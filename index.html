<html>
<head>
<title>Adrian Parker</title>
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="favicon.ico" type="image/x-icon">
<script type="text/javascript">
	function sayHi(){
		console.log("If you're looking for me, give me a call on +6421914270");
		if(localStorage.getItem('username')!=null && localStorage.getItem('username').length>0){
			revealClass('repeatVisitor');
			makeIntroductions();
		}
	};
	function beIntroduced(){
		localStorage.setItem('username', document.getElementById("usernameInput").value);
		makeIntroductions();
	};
	function makeIntroductions(){
		var username = localStorage.getItem('username') || 'Stranger';
		console.log("Well hey there, "+username);
		setClassInnerHTML('username',' '+username);
		document.getElementById('usernameForm').style.display = 'none';	
		revealClass('auth');
	};
	function reset() {
		localStorage.clear();
		window.location.reload();
	}
	//--- utility functions
	function revealClass(className){
		var elements = document.getElementsByClassName(className);
		for(var i=0; i<elements.length; i++){
			elements[i].style.display = 'inline';
		}
	};
	function setClassInnerHTML(className, html){
		console.debug('setClassInnerHTML');
		var elements = document.getElementsByClassName(className);
		for(var i=0; i<elements.length; i++){
			console.debug('setClassInnerHTML loop');
			elements[i].innerHTML = html;
		}
	};
	
</script>
</head>
<body onload="sayHi()">
	<h1>Hello, I'm Adrian</h1>
	<p>
		Welcome<span class="repeatVisitor" style="display: none;"> back</span>
		to my website<span class="auth username" style="display: none;"></span>.
		<span class="auth" style="display: none;">&nbsp;
			<button type="button" onclick="reset()">I&apos;m not<span class="auth username" style="display: none;"/></button>
		</span>
	</p>
	
	<form id="usernameForm" onsubmit="beIntroduced();return false;">
		<p>Let's get acquainted. What's 
		<label for="username">your name?</label>
		<input id="usernameInput" name="username" pattern=".{1,20}" required title="Please enter a name 1 to 20 characters long" type="text"/>
	</form>
	
</body>
</html>